<style lang="less">
@import './common/icon/iconfont.wxss';
@import './wxss/weui.wxss';
@import './wxss/weui_cover.wxss';

// iconfont


@font-face {font-family: "iconfont";
  src: url('iconfont.eot?t=1545012499573'); /* IE9*/
  src: url('iconfont.eot?t=1545012499573#iefix') format('embedded-opentype'), /* IE6-IE8 */
  url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff'),
  url('iconfont.ttf?t=1545012499573') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/
  url('iconfont.svg?t=1545012499573#iconfont') format('svg'); /* iOS 4.1- */
}

.iconfont {
  font-family:"iconfont" !important;
  font-size:16px;
  font-style:normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.icon-jiahao-copy:before { content: "\e600"; }
.icon-jiantou:before { content: "\e607"; }
.icon-location:before { content: "\e602"; }
.icon-taicangsifa-:before { content: "\e636"; }
.icon-jianhao:before { content: "\e601"; }
.icon-shanchu:before { content: "\e639"; }
.icon-fenxiang:before { content: "\e644"; }
.icon-shiliangzhinengduixiang:before { content: "\e61e"; }
.icon-add:before { content: "\e6f3"; }
.icon-dianhua:before { content: "\e614"; }


page {
  background: #f4f4f4;
  font-family: -apple-system-font, Helvetica Neue, Helvetica, sans-serif;
}
button.otype {
  background-color: transparent;
  padding: 0;
  margin: 0;
  position: static;
  border: 0;
  padding-left: 0;
  padding-right: 0;
  border-radius: 0;
}
button.otype::after {
  content: '';
  width: 0;
  height: 0;
  transform: scale(1);
  display: none;
  border: none;
  background-color: transparent;
}
</style>

<script>
import wepy from 'wepy';
import 'wepy-async-function';
import jh from './common/js/index.js';
import { setStore } from 'wepy-redux';
import configStore from './store';
const store = configStore();
setStore(store);
export default class extends wepy.app {
  config = {
    pages: [
      'pages/tab_bar/home/home',
      'pages/tab_bar/follow/follow',
      'pages/tab_bar/news/news',
      'pages/tab_bar/cart/cart',
      'pages/tab_bar/my/my',
      'pages/tab_bar/search/search',
      'pages/tab_bar/all/all',
      'pages/tab_bar/retail/retail',
      'pages/tab_bar/wares/wares',
      'pages/tab_bar/articleDetails/articleDetails',
      'pages/tab_bar/settlement/settlement',
      'pages/tab_bar/address/address',
      'pages/tab_bar/repast/repast',
      'pages/tab_bar/takeawayOrder/takeawayOrder',
      'pages/tab_bar/arrivalOrder/arrivalOrder',
      'pages/index'
    ],
    window: {
      backgroundTextStyle: 'light',
      navigationBarBackgroundColor: '#0099ff',
      navigationBarTitleText: '一户一店',
      navigationBarTextStyle: 'white'
    },
    //分包
    subPackages: [
      {
        root: 'pages/module_retail',
        pages: ['retail_home/retail_home']
      }
    ],
    tabBar: {
      color: '#6b6b6b',
      selectedColor: '#0099ff',
      backgroundColor: '#fff',
      position: 'bottom',
      borderStyle: 'e9e9e9',
      list: [
        {
          pagePath: 'pages/tab_bar/home/home',
          text: '首页',
          iconPath: 'common/image/home_11.png',
          selectedIconPath: 'common/image/home_1.png'
        },
        {
          pagePath: 'pages/tab_bar/follow/follow',
          text: '关注',
          iconPath: 'common/image/home_22.png',
          selectedIconPath: 'common/image/home_2.png'
        },
        {
          pagePath: 'pages/tab_bar/news/news',
          text: '消息',
          iconPath: 'common/image/home_55.png',
          selectedIconPath: 'common/image/home_5.png'
        },
        {
          pagePath: 'pages/tab_bar/cart/cart',
          text: '购物车',
          iconPath: 'common/image/home_33.png',
          selectedIconPath: 'common/image/home_3.png'
        },
        {
          pagePath: 'pages/tab_bar/my/my',
          text: '我的',
          iconPath: 'common/image/home_44.png',
          selectedIconPath: 'common/image/home_4.png'
        }
      ]
    }
  };
  globalData = {
    userInfo: null
  };
  constructor() {
    super();
    this.use('requestfix');
  }
  onLaunch() {}
  getUserInfo(cb) {
    const that = this;
    if (this.globalData.userInfo) {
      return this.globalData.userInfo;
    }
    wepy.getUserInfo({
      success(res) {
        that.globalData.userInfo = res.userInfo;
        cb && cb(res.userInfo);
      }
    });
  }
}
</script>
